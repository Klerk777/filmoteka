{"mappings":"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","sources":["src/js/api-service/filmoteka-api.js","src/templates/slider-films.hbs","src/js/main-page/spiner.js","src/js/main-page/slider-film.js","src/js/main-page/gallery.js","src/js/main-page/search.js","src/js/closeModal.js","src/js/modal-info/modal-creat-element.js","src/js/modal-info/modalInfoFilm.js","src/js/modal-info/footer-modal.js"],"sourcesContent":["const API_KEY = '431ab85139813dba3796c445694ce723';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport default class FilmotekaApi {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  globalFetch(url) {\n    return fetch(url)\n      .then(response => response.json())\n      .then(date => {\n        this.incrementPage();\n        return date.results;\n      });\n  }\n  fetchGenres() {\n    const url = `${BASE_URL}/genre/movie/list?api_key=${API_KEY}`;\n    return fetch(url)\n      .then(response => response.json())\n      .then(data => {\n        return data.genres;\n      });\n  }\n\n  fetchInTrendFilmWithGenres() {\n    return this.fetchTrendFilm().then(data => {\n      return this.fetchGenres().then(genresList => {\n        return data.map(movie => ({\n          ...movie,\n          release_date: movie.release_date.split('-')[0],\n          genres: movie.genre_ids.map(id => genresList.filter(el => el.id === id)).flat(),\n        }));\n      });\n    });\n  }\n\n  fetchSearchFilmWithGenres() {\n    return this.fetchSearchFilm().then(data => {\n      return this.fetchGenres().then(genresList => {\n        return data.map(movie => ({\n          ...movie,\n          release_date: movie.release_date.split('-')[0],\n          genres: movie.genre_ids.map(id => genresList.filter(el => el.id === id)).flat(),\n        }));\n      });\n    });\n  }\n\n  fetchTrendFilm() {\n    const url = `${BASE_URL}/movie/popular?api_key=${API_KEY}&language=en-US&page=${this.page}`;\n    return this.globalFetch(url);\n  }\n\n  fetchSearchFilm() {\n    const url = `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${this.searchQuery}&page=${this.page}&include_adult=false`;\n    return this.globalFetch(url);\n  }\n   fetchSearchTotalFilm() {\n    const url = `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${this.searchQuery}&page=${this.page}&include_adult=false`;\n    return fetch(url)\n      .then(response => response.json())\n      .then(data => {\n        this.incrementPage();\n        return data;\n      });\n  }\n\n  // fetchInfoFilm() {\n  //   const movie_id = 1031653;\n  //   const url = ` https://api.themoviedb.org/3/movie/${movie_id}?api_key=${API_KEY}&language=en-US`;\n  //   return this.globalFetch(url);\n  // }\n\n  fetchInfoFilm(movie_id) {\n\n    const url = ` https://api.themoviedb.org/3/movie/${movie_id}?api_key=${API_KEY}&language=en-US`;\n    return fetch(url)\n        .then(response => response.json())\n        .then(data => {\n            return data;\n            // console.log(data);\n        })\n}\n\n\nfetchTrailreFilm(movie_id, lang) {\n  const url = ` https://api.themoviedb.org/3/movie/${movie_id}/videos?api_key=${API_KEY}&language=${lang}`;\n  return fetch(url)\n      .then(response => response.json())\n      .then(data => {\n          return data;\n          // console.log(data);\n      })\n}\n\n\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  decrementPage() {\n    this.page -= 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n  get pageNum() {\n    return this.page;\n  }\n  set pageNum(newPage) {\n    this.page = newPage;\n  }\n}\n","{{#each this}}\n   <div class=\"slider-element\">\n        <img class=\"slider-image\" src=\"https://image.tmdb.org/t/p/w500{{poster_path}}\" alt=\"{{title}} {{name}} \"\n            data-id=\"{{id}}\"\n            onerror=\"this.onerror=null;this.src='https://ik.imagekit.io/tc8jxffbcvf/default-movie-portrait_EmJUj9Tda5wa.jpg?tr=fo-auto,di-';\" />\n    </div>\n{{/each}}","import { Loading } from 'notiflix';\n\nexport function loadingSpiner() {\n    Loading.standard('Loading...', {\n        backgroundColor: 'rgba(0,0,0,0.8)',\n        svgColor: '#FF6B08',\n        messageColor: '#FF6B08'\n});\n}","import FilmotekaApi from '../api-service/filmoteka-api';\nimport filmsCardSliderTpl from '../../templates/slider-films.hbs';\nimport { Loading } from 'notiflix';\nimport { loadingSpiner } from './spiner';\n\nconst refs = {\n  sliderContainer: document.querySelector('.slide-track'),\n};\nconst filmotekaApi = new FilmotekaApi();\nrenderTrendy();\n\nexport function renderTrendy() {\n  loadingSpiner();\n  filmotekaApi\n    .fetchTrendFilm()\n    .then(renderSliderFilms)\n    .catch(err => {\n      refs.sliderContainer.innerHTML = `<img class=\"catch-error-pagination\" src=\"${errorUrl}\" />`;\n    });\n  Loading.remove();\n}\n\n\n\nfunction renderSliderFilms(articles) {\n  refs.sliderContainer.innerHTML = filmsCardSliderTpl(articles);\n \n}","import FilmotekaApi from '../api-service/filmoteka-api';\nimport filmsCardTpl from '../../templates/card-films.hbs';\n\n\nconst refs = {\n   containerList: document.querySelector('.js-card'),\n}\nconst filmotekaApi = new FilmotekaApi();\n\nexport function renderHomepage() {\n  filmotekaApi.resetPage();\n  filmotekaApi.fetchInTrendFilmWithGenres().then(appendResultsMarkup);\n}\n\nfunction appendResultsMarkup(results) {\n  refs.containerList.innerHTML = filmsCardTpl(results);\n}\n","\nimport { renderTrendy } from './slider-film';\nimport FilmotekaApi from '../api-service/filmoteka-api';\nimport { renderHomepage } from './gallery';\nimport filmsCardTpl from '../../templates/card-films.hbs';\nimport { Loading } from 'notiflix';\nimport { loadingSpiner } from './spiner';\n\nconst refs = {\n    searchForm: document.querySelector('.js-search-form'),\n    containerList: document.querySelector('.js-card'),\n    containerWarning: document.querySelector('.js-warning'),\n    containerWarningResults: document.querySelector('.js-search-results'),\n    \n}\n\nrenderTrendy();\nrenderHomepage();\n\nconst filmotekaApi = new FilmotekaApi();\n\nrefs.searchForm.addEventListener('submit', onSearch);\n\n function onSearch(evt) {\n    evt.preventDefault();\n     loadingSpiner();\n     clearHomePage();\n     if (evt.currentTarget.query.value === '') {\n        \n         renderHomepage();\n         Loading.remove();\n         refs.containerWarningResults.textContent = ''; \n         refs.containerWarning.textContent = `Please write something ...`;\n        return;\n    } else {\n         refs.containerWarning.textContent = '';\n    }\n     console.log(evt.currentTarget.query.value);\n     Loading.remove();\n    filmotekaApi.query = evt.currentTarget.query.value;\n  \n     filmotekaApi.resetPage();\n     filmotekaApi.fetchSearchTotalFilm().then(data => {\n         if (data.total_pages === 0) {\n             renderHomepage();\n             refs.containerWarningResults.textContent = `Sorry, there no results found. Try searching for something else! `;\n         } else {\n             refs.containerWarningResults.textContent = '';\n             filmotekaApi.fetchSearchFilmWithGenres().then(appendResultsMarkup).catch(err => {\n                 refs.containerList.innerHTML = `<img class=\"catch-error-pagination\" src=\"${errorUrl}\"/>`\n             });\n             \n         }\n     })\n      evt.currentTarget.query.value = '';\n   \n}\n\n\nfunction appendResultsMarkup(results) {\n  refs.containerList.innerHTML = filmsCardTpl(results);\n  \n}\nfunction clearHomePage() {\n    refs.containerList.innerHTML = '';\n}","import { currentUser } from './api-service/firebase-api-auth';\nimport { writeQueue, writeWatched } from './api-service/firebase-api-database';\nimport FilmotekaApi from './api-service/filmoteka-api';\n\nconst infoFilmApi = new FilmotekaApi();\nconst refs = {\n  backdrop: document.querySelector('.backdrop'),\n  closeBtn: document.querySelector('[data-modal-close]'),\n  modalWrap: document.querySelector('.modal__wrap')\n};\n\nrefs.backdrop.addEventListener('click', onBackdropHandler);\nrefs.closeBtn.addEventListener('click', closeModal);\nwindow.addEventListener('keydown', closeModalEsc);\n// TODO: add listener on ESC when modal is opening\n\nfunction closeModal() {\n  refs.backdrop.classList.remove('is-open');\n  window.removeEventListener('keydown', closeModal);\n  document.body.classList.remove('no-scroll')\n  refs.modalWrap.innerHTML= ''\n}\n\nfunction onBackdropHandler(e) {\n  if (e.target.classList.contains('backdrop')) {\n    closeModal();\n  } else if (e.target.classList.contains('js-btn-watched')) {\n    write(e.target.dataset.id, writeWatched);\n  } else if (e.target.classList.contains('js-btn-queue')) {\n    write(e.target.dataset.id, writeQueue);\n  }\n  return;\n}\n\nfunction closeModalEsc(e) {\n  if (e.code === 'Escape') closeModal();\n}\n\nasync function write(filmId, callback) {\n  const user = await currentUser();\n  if (user) {\n    const film = await infoFilmApi.fetchInfoFilm(filmId);\n    callback(user.uid, film);\n  } else {\n    window.location.href = './signin.html';\n  }\n}\n","export function modalInfoCreat(results, id, keyPlayer = false) {\n  let URL_POSTEER = 'https://image.tmdb.org/t/p/';\n  const imgResize = {\n    tabMob: 'w342',\n    desk: 'w500',\n  };\n\n  const {\n    title,\n    vote_average,\n    vote_count,\n    popularity,\n    original_title,\n    genres,\n    overview,\n    poster_path,\n  } = results;\n\n  const location = window.location.host;\n  console.log(location);\n\n  const player = !keyPlayer\n    ? ''\n    : `  <iframe\n  class=\"trailer\"\nwidth=\"100%\"\nheight=\"175px\"\nsrc=\"https://www.youtube.com/embed/${keyPlayer}?origin=${location}\"\ntitle=\"GO-IT  #4\"\nframeborder=\"0\"\nallowfullscreen\n></iframe> `;\n\n  return `<picture>\n  <source src=\"${\n    URL_POSTEER + imgResize.desk + poster_path\n  }\" media=\"(min-width: 1280px)\" />\n  <source src=\"${\n    URL_POSTEER + imgResize.tabMob + poster_path\n  }\" media=\"(min-width: 768px)\" />\n  <source src=\"${\n    URL_POSTEER + imgResize.tabMob + poster_path\n  }\" media=\"(max-width: 767px)\" />\n  <img class=\"modal__picture\" src=\"${\n    URL_POSTEER + imgResize.desk + poster_path\n  }\" alt=\"${title}\" />\n  </picture>\n  <div class=\"modal__info\">\n  <h2 class=\"modal__title\">${title}</h2>\n  <table class=\"modal__statistic\">\n  <tbody>\n      <tr>\n          <td class=\"modal__type\">Vote / Votes</td>\n          <td class=\"modal__value\"><span class=\"modal__value--accent\">${vote_average}</span> / \n              <span class=\"modal__value--highlight\">${vote_count}</span></td>\n      </tr>\n      <tr>\n          <td class=\"modal__type\">Popularity</td>\n          <td class=\"modal__value\">${popularity}</td>\n      </tr>\n      <tr>\n          <td class=\"modal__type\">Original Title</td>\n          <td class=\"modal__value modal__value--uppercase\">${original_title}</td>\n      </tr>\n      <tr>\n          <td class=\"modal__type\">Genre</td>\n          <td class=\"modal__value\">${genres.map(e => ` ${e.name}`)}</td>\n      </tr>\n  </tbody>\n  </table>\n  <p class=\"modal__about\">About</p>\n  <p class=\"modal__description\">${overview}</p>\n  \n  <div id=\"player\" class=\"modal__player\">\n${player}\n  </div>\n  \n  <ul class=\"modal__buttons\">\n            <li><button type=\"button\" class=\"modal__button js-btn-watched\" data-id=\"${id}\">Add to watched</button></li>\n            <li><button type=\"button\" class=\"modal__button js-btn-queue\" data-id=\"${id}\">Add to queue</button></li>\n          </ul>\n  `;\n}\n","import FilmotekaApi from '../api-service/filmoteka-api';\nimport { modalInfoCreat } from './modal-creat-element';\n\nconst infoFilmApi = new FilmotekaApi();\nlet ID_FILMS = '';\n\nconst slideTrack = document.querySelector('.slide-track');\nconst backdrop = document.querySelector('.backdrop');\nconst modalWrap = document.querySelector('.modal__wrap');\nconst modalJsCard = document.querySelector('.js-card');\nconst trailerWrap = document.querySelector('.player');\n\nslideTrack.addEventListener('click', openModal);\nmodalJsCard.addEventListener('click', openModal);\n\nconst langTrailer = {\n  ua: 'uk-UA',\n  en: 'en-US',\n};\n\nasync function modalFunction(id) {\n  await infoFilmApi.fetchInfoFilm(id).then(creatRender);\n}\n// openModal()\nasync function openModal(e) {\n  if (e.target.nodeName !== 'IMG') {\n    return;\n  }\n  modalWrap.innerHTML = '';\n  backdrop.classList.add('is-open');\n  document.body.classList.add('no-scroll');\n\n  ID_FILMS = e.target.dataset.id;\n  modalFunction(ID_FILMS);\n}\n\nasync function creatRender(e) {\n  const trailerKey = await creatTrailerFilm(ID_FILMS);\n  const res = modalInfoCreat(e, ID_FILMS, trailerKey);\n  modalWrap.insertAdjacentHTML('beforeend', res);\n}\n\nasync function creatTrailerFilm(id) {\n  const enTrailerUa = infoFilmApi.fetchTrailreFilm(id, langTrailer.ua);\n  const enTrailerEn = infoFilmApi.fetchTrailreFilm(id, langTrailer.en);\n  const dataTrailerLang = await Promise.all([enTrailerUa, enTrailerEn]);\n  const spaceArray = dataTrailerLang.map(e => e.results).join('').length;\n\n  if (!spaceArray) return;\n\n  const dataLang = [];\n  dataTrailerLang.forEach(({ results }) => {\n    if (results.length) dataLang.push(results);\n  });\n\n  const dataUa = dataLang.find(e => e[0].iso_639_1 === 'uk');\n  return dataUa ? dataUa[0].key : dataLang[0][0].key;\n}\n","const openModalBtn = document.querySelector('[data-modal-open]');\nconst closeModalBtn = document.querySelector('[data-modal-close]');\nconst modal = document.querySelector('[data-modal]');\nwindow.addEventListener('keydown', closeFooterModalEsc);\n\nopenModalBtn.addEventListener('click', toggleModal);\ncloseModalBtn.addEventListener('click', toggleModal);\n\nfunction toggleModal() {\n  modal.classList.toggle('is-hidden');\n}\n\nfunction closeFooterModalEsc(e) {\n  if (e.code === 'Escape') toggleModal();\n}\n"],"names":["$380398118d2742cb$var$API_KEY","$380398118d2742cb$var$BASE_URL","$380398118d2742cb$export$2e2bcd8739ae039","globalFetch","url","fetch","then","response","json","date","this","incrementPage","results","fetchGenres","data","genres","fetchInTrendFilmWithGenres","fetchTrendFilm","genresList","map","movie","release_date","split","genre_ids","id","filter","el","flat","fetchSearchFilmWithGenres","fetchSearchFilm","page","searchQuery","fetchSearchTotalFilm","fetchInfoFilm","movie_id","fetchTrailreFilm","lang","decrementPage","resetPage","query","newQuery","pageNum","newPage","constructor","$26469d1462784026$export$2e2bcd8739ae039","$parcel$interopDefault","parcelRequire","template","container","depth0","helpers","partials","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","name","hash","loc","start","line","column","end","compiler","main","stack1","fn","program","inverse","noop","useData","$eWCmQ","$09a9a189b713eb13$export$86973d0a88a2c188","Loading","standard","backgroundColor","svgColor","messageColor","$39e3d4cad74cacb3$var$refs","sliderContainer","document","querySelector","$39e3d4cad74cacb3$var$filmotekaApi","$39e3d4cad74cacb3$export$c7e7a7faf43551fd","$39e3d4cad74cacb3$var$renderSliderFilms","catch","err","innerHTML","errorUrl","remove","articles","$ba0d772e12a5a3d3$var$refs","containerList","$ba0d772e12a5a3d3$var$filmotekaApi","$ba0d772e12a5a3d3$export$72a29c1d345d108","$ba0d772e12a5a3d3$var$appendResultsMarkup","$8d3Od","default","$a602acc7810ff239$var$refs","searchForm","containerWarning","containerWarningResults","$a602acc7810ff239$var$filmotekaApi","$a602acc7810ff239$var$appendResultsMarkup","addEventListener","evt","preventDefault","$a602acc7810ff239$var$clearHomePage","currentTarget","value","textContent","console","log","total_pages","$5Lk9D","$0649b09f8ef56721$var$infoFilmApi","$0649b09f8ef56721$var$refs","backdrop","closeBtn","modalWrap","$0649b09f8ef56721$var$closeModal","classList","window","removeEventListener","body","async","$0649b09f8ef56721$var$write","filmId","callback","user","currentUser","film","uid","location","href","$2ac0870973c2dcd9$export$5c6e77e98c856fad","keyPlayer","URL_POSTEER","imgResize","title","vote_average","vote_count","popularity","original_title","overview","poster_path","host","player","e","target","contains","dataset","$1DACH","writeWatched","writeQueue","code","$7c25cc3caee55b9f$var$infoFilmApi","$7c25cc3caee55b9f$var$ID_FILMS","$7c25cc3caee55b9f$var$slideTrack","$7c25cc3caee55b9f$var$backdrop","$7c25cc3caee55b9f$var$modalWrap","$7c25cc3caee55b9f$var$modalJsCard","$7c25cc3caee55b9f$var$openModal","$7c25cc3caee55b9f$var$langTrailer","nodeName","add","$7c25cc3caee55b9f$var$creatRender","$7c25cc3caee55b9f$var$modalFunction","trailerKey","enTrailerUa","enTrailerEn","dataTrailerLang","Promise","all","spaceArray","join","length","dataLang","forEach","push","dataUa","find","iso_639_1","key","$7c25cc3caee55b9f$var$creatTrailerFilm","res","insertAdjacentHTML","$3d790185f92bc9fb$var$openModalBtn","$3d790185f92bc9fb$var$closeModalBtn","$3d790185f92bc9fb$var$modal","$3d790185f92bc9fb$var$toggleModal","toggle"],"version":3,"file":"index.48e6410d.js.map"}